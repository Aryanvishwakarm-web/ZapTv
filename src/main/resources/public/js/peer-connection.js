function a0_0x5b79(_0x3024ff,_0x5ecaf1){const _0x58adb7=a0_0x58ad();return a0_0x5b79=function(_0x5b79e7,_0x259084){_0x5b79e7=_0x5b79e7-0xa4;let _0x4ada81=_0x58adb7[_0x5b79e7];return _0x4ada81;},a0_0x5b79(_0x3024ff,_0x5ecaf1);}const a0_0x4b43e3=a0_0x5b79;(function(_0x27e23a,_0x2ada78){const _0x4639de=a0_0x5b79,_0x471938=_0x27e23a();while(!![]){try{const _0x1730c1=parseInt(_0x4639de(0xdb))/0x1+-parseInt(_0x4639de(0xb7))/0x2*(-parseInt(_0x4639de(0xcd))/0x3)+-parseInt(_0x4639de(0xd8))/0x4+-parseInt(_0x4639de(0xba))/0x5*(parseInt(_0x4639de(0xd3))/0x6)+-parseInt(_0x4639de(0xcc))/0x7+parseInt(_0x4639de(0xae))/0x8+parseInt(_0x4639de(0xd7))/0x9*(parseInt(_0x4639de(0xbe))/0xa);if(_0x1730c1===_0x2ada78)break;else _0x471938['push'](_0x471938['shift']());}catch(_0x25c466){_0x471938['push'](_0x471938['shift']());}}}(a0_0x58ad,0x28a3a));function a0_0x58ad(){const _0x23e360=['BYE','239558AVGaID','Received\x20data\x20channel\x20message','CLOSED','send','Received\x20','disconnect','SDP_OFFER','message','oniceconnectionstatechange','parse','data','getTracks','createPeerConnection','streams','GO_FIRST','init','SDP_ICE_CANDIDATE','ondatachannel','forEach','Failed\x20to\x20enable\x20webcam\x20and/or\x20microphone,\x20please\x20reload\x20the\x20page\x20and\x20try\x20again','/api/matchmaking','onLocalMedia','createDataChannel','options','handleSdpOffer','host','tryHandle','Received\x20SDP\x20offer,\x20creating\x20SDP\x20answer','setState','onStateChange','ICE_CANDIDATE','addEventListener','localStream','Partner\x20found,\x20creating\x20SDP\x20offer\x20and\x20data\x20channel','protocol','track','addTrack','sdpExchange','249912iAzZCz','stringify','mediaDevices','WebSocket\x20closed,\x20reconnecting\x20in\x201\x20second','peerConnection','SDP_ANSWER','candidate','setLocalDescription','state','137474FfJIvd','name','onicecandidate','105VffQly','setupDataChannel','sendBye','handleIceCandidate','20OMYStO','ICE\x20candidate\x20created,\x20sending\x20to\x20partner','Received\x20BYE\x20message,\x20closing\x20connection','addIceCandidate','PARTNER_FOUND','handleSdpAnswer','handlePartnerFound','location','onChatMessage','No\x20data\x20channel','https:','PAIRING_DONE','createAnswer','dataChannel','1249430RpYjFE','9bwPJDi','createSdpExchange','ICE\x20candidate\x20gathering\x20complete','readyState','setRemoteDescription','close','53346fxpOno','chat','Failed\x20to\x20handle\x20','log','1311993mmvsdS','947612YjOGCi','LOCAL'];a0_0x58ad=function(){return _0x23e360;};return a0_0x58ad();}export class PeerConnection{[a0_0x4b43e3(0xad)];[a0_0x4b43e3(0xb2)];[a0_0x4b43e3(0xcb)];['state'];[a0_0x4b43e3(0xf2)];[a0_0x4b43e3(0xa8)];constructor(_0x505f19){const _0x584e53=a0_0x4b43e3;this[_0x584e53(0xf2)]=_0x505f19,this[_0x584e53(0xea)]();}async[a0_0x4b43e3(0xea)](){const _0x24a4e0=a0_0x4b43e3;try{this[_0x24a4e0(0xa8)]=await navigator[_0x24a4e0(0xb0)]['getUserMedia']({'video':!![],'audio':!![]}),this[_0x24a4e0(0xf2)][_0x24a4e0(0xf0)](this[_0x24a4e0(0xa8)]);}catch(_0x2b4642){alert(_0x24a4e0(0xee));}this[_0x24a4e0(0xa4)]('NOT_CONNECTED'),this[_0x24a4e0(0xb2)]=this[_0x24a4e0(0xe7)](),this[_0x24a4e0(0xad)]=this[_0x24a4e0(0xce)]();}[a0_0x4b43e3(0xce)](){const _0x46eb33=a0_0x4b43e3;let _0x856c70=window[_0x46eb33(0xc5)][_0x46eb33(0xaa)]===_0x46eb33(0xc8)?'wss':'ws',_0x2221c7=new WebSocket(_0x856c70+'://'+window[_0x46eb33(0xc5)][_0x46eb33(0xf4)]+_0x46eb33(0xef));return _0x2221c7[_0x46eb33(0xa7)](_0x46eb33(0xe2),_0x5a18ae=>{const _0xe252d2=_0x46eb33,_0x2e3734=JSON[_0xe252d2(0xe4)](_0x5a18ae['data']);console[_0xe252d2(0xd6)]('Received\x20WebSocket\x20message',_0x2e3734[_0xe252d2(0xb8)]);if(_0x2e3734[_0xe252d2(0xb8)]===_0xe252d2(0xc2))this[_0xe252d2(0xc4)](_0x2e3734[_0xe252d2(0xe5)]);if(_0x2e3734[_0xe252d2(0xb8)]===_0xe252d2(0xe1))this['handleSdpOffer'](JSON[_0xe252d2(0xe4)](_0x2e3734[_0xe252d2(0xe5)]));if(_0x2e3734[_0xe252d2(0xb8)]===_0xe252d2(0xb3))this[_0xe252d2(0xc3)](JSON[_0xe252d2(0xe4)](_0x2e3734[_0xe252d2(0xe5)]));if(_0x2e3734['name']===_0xe252d2(0xeb))this[_0xe252d2(0xbd)](JSON[_0xe252d2(0xe4)](_0x2e3734[_0xe252d2(0xe5)]));}),_0x2221c7[_0x46eb33(0xa7)](_0x46eb33(0xd2),async()=>{const _0x26c75c=_0x46eb33;while(this[_0x26c75c(0xad)][_0x26c75c(0xd0)]===WebSocket[_0x26c75c(0xdd)]){console[_0x26c75c(0xd6)](_0x26c75c(0xb1)),await new Promise(_0x5d8906=>setTimeout(_0x5d8906,0x3e8)),this['sdpExchange']=this[_0x26c75c(0xce)]();}}),_0x2221c7;}['createPeerConnection'](){const _0x287963=a0_0x4b43e3;let _0x1aa4ed=new RTCPeerConnection();return _0x1aa4ed['ontrack']=_0x3f7bc6=>{const _0x140315=a0_0x5b79;console[_0x140315(0xd6)](_0x140315(0xdf)+_0x3f7bc6[_0x140315(0xab)]['kind']+'\x20track'),this[_0x140315(0xf2)]['onRemoteMedia'](_0x3f7bc6[_0x140315(0xe8)][0x0]);},_0x1aa4ed[_0x287963(0xb9)]=_0x5d8624=>{const _0x15c5c5=_0x287963;if(_0x5d8624[_0x15c5c5(0xb4)]===null)return console['log'](_0x15c5c5(0xcf)),this[_0x15c5c5(0xad)]['send'](JSON[_0x15c5c5(0xaf)]({'name':_0x15c5c5(0xc9)}));console[_0x15c5c5(0xd6)](_0x15c5c5(0xbf));let _0x22e5f3=JSON[_0x15c5c5(0xaf)](_0x5d8624['candidate']);this['sdpExchange']['send'](JSON[_0x15c5c5(0xaf)]({'name':_0x15c5c5(0xeb),'data':_0x22e5f3}));},_0x1aa4ed[_0x287963(0xe3)]=()=>{const _0x42e121=_0x287963;_0x1aa4ed['iceConnectionState']==='connected'&&(this['setState']('CONNECTED'),setTimeout(()=>console[_0x42e121(0xd6)]('WebRTC\x20connection\x20established'),0x1f4));},_0x1aa4ed[_0x287963(0xec)]=_0x3c2c62=>{const _0x5e415e=_0x287963;console['log']('Received\x20data\x20channel\x20from\x20offerer'),this[_0x5e415e(0xcb)]=this[_0x5e415e(0xbb)](_0x3c2c62['channel']);},_0x1aa4ed;}['setupDataChannel'](_0x2399f1){return _0x2399f1['onmessage']=_0x260446=>{const _0x25815a=a0_0x5b79;console[_0x25815a(0xd6)](_0x25815a(0xdc),_0x260446[_0x25815a(0xe5)]);if(_0x260446[_0x25815a(0xe5)]==='BYE')return this[_0x25815a(0xe0)]('REMOTE'),console['log'](_0x25815a(0xc0));this[_0x25815a(0xf2)][_0x25815a(0xc6)](JSON['parse'](_0x260446[_0x25815a(0xe5)])[_0x25815a(0xd4)]);},_0x2399f1;}[a0_0x4b43e3(0xbc)](){const _0x3942f0=a0_0x4b43e3;if(this[_0x3942f0(0xcb)]===null)return console[_0x3942f0(0xd6)](_0x3942f0(0xc7));this[_0x3942f0(0xcb)][_0x3942f0(0xde)](_0x3942f0(0xda)),this['disconnect'](_0x3942f0(0xd9));}['disconnect'](_0x4ac951){const _0x59ad3c=a0_0x4b43e3;this[_0x59ad3c(0xcb)]=null,this[_0x59ad3c(0xb2)]['close'](),this[_0x59ad3c(0xb2)]=this[_0x59ad3c(0xe7)](),this[_0x59ad3c(0xa4)]('DISCONNECTED_'+_0x4ac951);}['setState'](_0x359ab1){const _0xc86484=a0_0x4b43e3;this[_0xc86484(0xb6)]=_0x359ab1,this[_0xc86484(0xf2)][_0xc86484(0xa5)](_0x359ab1);}[a0_0x4b43e3(0xc4)](_0x4183ac){const _0x96272=a0_0x4b43e3;if(_0x4183ac!==_0x96272(0xe9))return console[_0x96272(0xd6)]('Partner\x20found,\x20waiting\x20for\x20SDP\x20offer\x20...');console['log'](_0x96272(0xa9)),this[_0x96272(0xf5)]('PARTNER_FOUND',async()=>{const _0x510c26=_0x96272;this[_0x510c26(0xcb)]=this['setupDataChannel'](this['peerConnection'][_0x510c26(0xf1)]('data-channel')),this[_0x510c26(0xa8)][_0x510c26(0xe6)]()[_0x510c26(0xed)](_0x599a17=>this['peerConnection']['addTrack'](_0x599a17,this['localStream']));const _0x2633d7=await this[_0x510c26(0xb2)]['createOffer']();await this['peerConnection'][_0x510c26(0xb5)](_0x2633d7);let _0x1c283e=JSON[_0x510c26(0xaf)](this[_0x510c26(0xb2)]['localDescription']);this[_0x510c26(0xad)][_0x510c26(0xde)](JSON[_0x510c26(0xaf)]({'name':_0x510c26(0xe1),'data':_0x1c283e}));});}[a0_0x4b43e3(0xf3)](_0x5c03c2){const _0xbda9b3=a0_0x4b43e3;this[_0xbda9b3(0xf5)](_0xbda9b3(0xe1),async()=>{const _0x287a0e=_0xbda9b3;console['log'](_0x287a0e(0xf6)),await this['peerConnection'][_0x287a0e(0xd1)](new RTCSessionDescription(_0x5c03c2)),this[_0x287a0e(0xa8)][_0x287a0e(0xe6)]()[_0x287a0e(0xed)](_0x45588f=>this[_0x287a0e(0xb2)][_0x287a0e(0xac)](_0x45588f,this[_0x287a0e(0xa8)]));const _0x4c8eb6=await this['peerConnection'][_0x287a0e(0xca)]();await this[_0x287a0e(0xb2)][_0x287a0e(0xb5)](_0x4c8eb6);let _0x553a83=JSON[_0x287a0e(0xaf)](this['peerConnection']['localDescription']);this[_0x287a0e(0xad)][_0x287a0e(0xde)](JSON[_0x287a0e(0xaf)]({'name':_0x287a0e(0xb3),'data':_0x553a83}));});}[a0_0x4b43e3(0xc3)](_0xe55ed4){const _0xc10a2c=a0_0x4b43e3;this[_0xc10a2c(0xf5)](_0xc10a2c(0xb3),async()=>{const _0x2c6595=_0xc10a2c;await this[_0x2c6595(0xb2)]['setRemoteDescription'](new RTCSessionDescription(_0xe55ed4));});}[a0_0x4b43e3(0xbd)](_0x516ae6){const _0x15f620=a0_0x4b43e3;this[_0x15f620(0xf5)](_0x15f620(0xa6),async()=>{const _0x15e634=_0x15f620;await this[_0x15e634(0xb2)][_0x15e634(0xc1)](new RTCIceCandidate(_0x516ae6));});}[a0_0x4b43e3(0xf5)](_0x9b9705,_0x32d77e){const _0x3d3af0=a0_0x4b43e3;try{_0x32d77e();}catch(_0x22c436){console['error'](_0x3d3af0(0xd5)+_0x9b9705,_0x22c436);}}}